<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<title>Canvas Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" type="text/css" href="canvas-test.css">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>


	</head>

	<body>

    <canvas id="canvas" width="50vh" height="50vh">

    </canvas>

    </div>

    <script>
    
      var canvas = document.getElementById("canvas");
      var ctx = canvas.getContext("2d");
      var blocks = [];
      var i, x, y;

      var boardWidth = 10;
      var boardHeight = 20;

      //--Relative sizes--
      var blockSizeRelative = 10;
      var frameSizeRelative = 1;
      var gapSizeRelative = 0.5;
      var canvasHeightRelative = blockSizeRelative*boardHeight + gapSizeRelative*(boardHeight+1); 
      var canvasWidthRelative = blockSizeRelative*boardWidth + gapSizeRelative*(boardWidth+1); 

      var boardWidthRelative = frameSize*2 + blockSize*10 + gapSize*11; 
      //--Actual sizes--
      var blockSize;
      var frameSize;
      var gapSize;

      var verticalPadding = 0.05;
      var canvasScaleMultiplier = 1;

      var xCoord, yCoord;

      createBoard();

      function createBoard(){
        canvas.height = window.innerHeight-(verticalPadding*window.innerHeight*2);
        canvasScaleMultiplier = canvas.height/canvasHeightRelative;
        canvas.width = canvasWidthRelative * canvasScaleMultiplier;
        canvas.style.marginTop = verticalPadding*window.innerHeight + "px";


        blockSize = blockSizeRelative * canvasScaleMultiplier;
        frameSize = frameSizeRelative * canvasScaleMultiplier;
        gapSize = gapSizeRelative * canvasScaleMultiplier;

        class Block{
          constructor(xCoord, yCoord, colour){
            this.xCoord = xCoord;
            this.yCoord = yCoord;
            this.colour = colour;
          }

          setColour(colour){
            this.colour = colour;
          }

          getColour(){
            return this.colour;
          }

          draw(){
            ctx.fillStyle = this.colour;
            ctx.fillRect(this.xCoord, this.yCoord, blockSize, blockSize);
          }

        }

        ctx.lineWidth = "1";
        ctx.strokeStyle = "blue";
        ctx.fillStyle = "#4c5a61";

        //*
        for(x = 0; x < 10; x++){
          blocks.push([]);
          for(y = 0; y < 20; y++){
            ctx.beginPath();
            xCoord = (blockSize+gapSize)*x + gapSize;
            yCoord = ((blockSize+gapSize)*19)-(y*(blockSize+gapSize)) + gapSize;
            
            blocks[x].push(new Block(xCoord, yCoord, "#4c5a61"));
            ctx.fillRect(xCoord, yCoord, blockSize, blockSize);

          }
        }
        //*/
      }

      function changeColour(x, y){
        blocks[x][y].setColour("#37ccca");
        blocks[x][y].draw();
      }
      

      $(window).resize(function(){
        createBoard();
      });
  
    </script>
  


  </body>

</html>